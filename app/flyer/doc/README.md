# 四轴飞行器说明文档
四轴飞行器的电子器件主要分为飞控板、动力模块、WiFi无线模块、功能板四部分。
1. 飞控板是飞行器的核心和基础，它有两大功能:姿态控制、运动控制
   1.1 姿态控制是飞控板的核心，用于控制飞行器的姿态。
   2.2 运动控制用于控制飞行器的运动，主要包括：前后左右上下旋转
2. 动力模块为飞行器提供动力,使用四个螺旋桨驱动飞行器，动力系统需要与飞行器结构配合目前使用采购方案。 
3. wifi命令模块\(AP模式\)用于接收主机命令控制飞控模块。也可以解析主机命令后发送回功能模块\(也可以不使用\)
4. 功能板目前可以实现摄像、跟踪、GPS。跟踪模块用于跟踪某一固定目标

## 工作计划
### STM飞控框架
1. 改采样率
2. 磁力计 I2C裸读
3. accel gyro compass裸读时间
4. accel gyro compass中断读时间


3线程:
a. 读取MPU9250数据      数据缓存
b. 姿态融合             四元数
b. pid四轴控制          PWM值
测试项:

统计算法求取速度
读取陀螺仪数据
读取加计数据
读取磁计数据

陀螺积分
加计融合
磁计融合

pid 四元数求PWM值算法

### 近期计划
0. 完善STM32飞控框架文档
1. 移植STM32算法(多线程)
2. 规划PID飞行姿态控制
3. 整理注释
4. 推进远期计划

### 远期计划
1. 器件选型
2. 绘制飞控板原理图、PCB
3. 制版\(嘉立创\)、BOM采购\(淘宝\+广谱屯\)
4. 贴片
   2.1 老黄
   2.2 周刚
   2.3 陆敏 艾文 等
   2.4 联系 艾文厂家 询价

## 商业计划

## 注意:
1. 验证时尽可能采用stm32f429dico板
2. 依据stm32f429性能决定飞控板MCU选型
3. eMD6.12 DMP无法9轴融合
4. 校准标定MPU9250数据
5. 测试并实现MPU9250所需中断 (不使用DMP库则暂时不需要)

